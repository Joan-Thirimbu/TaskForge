<app-navbar></app-navbar>

<!-- task-content -->
<div class="task">
  <div>
    <h2 style="margin-bottom: .5rem;">Tasks</h2>
    <p>In this section, you can manage all of your tasks efficiently. Whether you're tracking your ongoing projects, managing deadlines, or updating progress, this platform allows you to stay on top of all your responsibilities. Each task can be categorized by its current status, and you can edit or delete tasks as needed. The easy-to-use interface provides an overview of each task's title, description, and status to help you prioritize and stay organized.</p>
  </div>
  <div class="pagination">
      <button class="btn-add" (click)="openAddModal()">Add Task</button>
      <div class="pagination-btn">
        <button class="segment" (click)="prevPage()" [disabled]="currentPage === 1">&laquo;</button>
        <span>{{ currentPage }}</span>
        <button class="segment" (click)="nextPage()"[disabled]="currentPage === totalPages">&raquo;</button>
      </div>
  </div>
  <div class="table-container overflow-x-auto">
    <table class="custom-table min-w-full table-auto border-collapse">
      <thead>
        <tr>
          <th class="table-header px-4 py-2 border-b text-left">ID</th>
          <th class="table-header px-4 py-2 border-b text-left">Title</th>
          <th class="table-header px-4 py-2 border-b text-left">Status</th>
          <th class="table-header px-4 py-2 border-b text-left">Description</th>
          <th class="px-4 py-2 border-b text-left">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let task of tasks" class="table-row">
          <td class="px-4 py-2 border-b">{{ task.id }}</td>
          <td class="px-4 py-2 border-b">{{ task.title }}</td>
          <td class="px-4 py-2 border-b">
            <span [ngStyle]="getStatusStyle(task.status)" class="status-text">{{ task.status }}</span>
          </td>
          <td class="px-4 py-2 border-b">{{ task.description }}</td>
          <td class="px-4 py-2 border-b text-center">
            <div class="actionbtn">
              <button class="btn-edit text-white py-1 px-3 rounded" (click)="openEditModal(task)">Edit</button>
              <button class="btn-delete text-white py-1 px-3 rounded" (click)="deleteTask(task.id)">Delete</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>